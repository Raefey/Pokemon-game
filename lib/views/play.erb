<center>
  <p><%= @game.player_1.name %> vs <%= @game.player_2.name %></p>
  <p><%= @game.turn.name %>'s turn </p>
</center>



<style>
#parent{
    padding: 0px, auto;
    width: 50%;
    margin: auto;
}
#blastoise{
    position: absolute;
    top: 50px;
    left: 700px;
    width: 400px;
    height: 300px;
    border: solid 0px;
}
#charizard{
    position: absolute;
    bottom: -50px;
    right: 200px;
    width: 500px;
    height: 400px;
    border: solid 0px;
}
#blastoise-health-bar{
    position: absolute;
    top: 100px;
    left: 300px;
    width: 350px;
    height: 300px;
    border: solid 0px;
}
#charizard-health-bar{
    position: absolute;
    top: 400px;
    left: 600px;
    width: 350px;
    height: 300px;
    border: solid 0px;
}
#attack-button{
    position: absolute;
    top: 600px;
    left: 300px;
    width: 100px;
    height: 50px;
    border: solid 0px;
}
#heal-button{
    position: absolute;
    top: 600px;
    left: 400px;
    width: 100px;
    height: 50px;
    border: solid 0px;
}


</style>

<!DOCTYPE html>
<html>
<title>Battle Monsters</title>
<meta name="viewport" content="width=400px, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<body>

<div id='parent'>
<div id="blastoise-health-bar">
<div class="w3-container"><div class="w3-light-grey">
  <div id="player_2_health" class="w3-container w3-round w3-red w3-center" style="height:48px;width:<%=@game.player_2.hit_points%>%"><%=@game.player_2.name%>: <%=@game.player_2.hit_points%>HP
  </div></div></div></div>
<br>

<div id='parent'>
<div id= "charizard-health-bar">
<div class="w3-container"><div class="w3-light-grey">
  <div id="player_1_health" class="w3-container w3-round w3-green w3-center" style="height:48px;width:<%=@game.player_1.hit_points%>%"><%=@game.player_1.name%>: <%=@game.player_1.hit_points%>HP
  </div></div></div>
<br>

<div id='parent'>
<div id= "charizard">
<img style="height:250px; width:250px;" src="<%=@game.player_1.image_back%>" alt="charizard">
</div></div></div>
<br>

<div id='parent'>
<div id= "blastoise">
<img style="height:250px; width:250px;" src="<%=@game.player_2.image_front%>" alt="blastoise">
</div></div></div>
<br>

<div id='parent'>
<div id= "attack-button">
<form action="/attack">
  <input type="submit" value="Attack">
</form>
</div></div></div>
<br>

<div id='parent'>
<div id= "heal-button">
<button class="w3-button w3-green" onclick="heal()">Heal</button>
</div></div></div>
<br>

<script>
function heal() {
var elem = document.getElementById("player_1_health");
var width = parseInt(elem.style.width);
var id = setInterval(frame, 40);
function frame() {
  if (width >= 100) {
    clearInterval(id);
    fetch("/heal",
      {
      headers: {
        'Accept': 'application/json',
        'Content-Type': 'application/json'
      },
      method: "POST"
    });
  } else {
    width++;
    elem.style.width = width + '%';
  }
}
}
</script>



</body>
</html>
